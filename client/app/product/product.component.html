<div class="card-block">

  <div *ngIf="!product">
    <form (submit)="getProduct()">
      Product ID<br>
      <input name="productId" [(ngModel)]="productId">
      <br>
      Quantity<br>
      <input [(ngModel)]="quantity" name="quantity" placeholder="Quantity" class="input-sm">
      <button type="submit" class="btn btn-sm btn-warning">Get product</button>
    </form>
  </div>


  <div *ngIf="product">

    <form (submit)="search()">

      <div>
        Order quantity<br>
        <input [(ngModel)]="quantity" name="quantity" placeholder="Quantity" class="input-sm">
      </div>

      <br>

      <div class="form-group">
        Categories
        <select [(ngModel)]="category" class="form-control" name="Category" placeholder="Category">
          <option *ngFor="let category of product.Categories" [attr.value]="category.Name">{{category.Name}}</option>
          <option *ngFor="let category of product.Categories" [attr.value]="category.Parent.Name">{{category.Parent.Name}}</option>
        </select>
      </div>

      <div class="form-group">
        Colors
        <select [(ngModel)]="color" class="form-control" name="Colour" placeholder="Colour">
          <option *ngFor="let color of product.Attributes.Colors.Values" [attr.value]="color.Name">{{color.Name}}</option>
        </select>
      </div>

      <div>
        <button type="submit" class="btn btn-sm btn-warning">Find Products</button>
      </div>

    </form>


    <table class="table table-bordered table-responsive table-striped table-hover">
      <tr>
        <td>Id</td>
        <td>{{product.Id}}</td>
      </tr>
      <tr>
        <td>Name</td>
        <td>{{product.Name}}</td>
      </tr>
      <tr>
        <td>Supplier</td>
        <td>{{product.Supplier.Name}}</td>
      </tr>
      <tr>
        <td>Description</td>
        <td>{{product.Description}}</td>
      </tr>
      <tr>
        <td>Prices</td>
        <td><span *ngFor="let price of product.Prices">{{price.Quantity.From}} to {{price.Quantity.To}}: ${{price.Price}}<br></span></td>
      </tr>
      <tr>
        <td>Images</td>
        <td><span *ngFor="let image of product.Images"><img src="https://api.asicentral.com/v1/{{image}}"></span></td>
      </tr>
    </table>



    <div *ngIf="searchResults">
    <table class="table table-bordered table-responsive table-striped table-hover">
      <thead>
      <tr>
        <th>ID</th>
        <th>Product name</th>
        <th>Image</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let product of searchResults.Results">
        <td>{{product.Id}}</td>
        <td>{{product.Name}}</td>
        <td><img src="https://api.asicentral.com/v1/{{product.ImageUrl}}"></td>
      </tr>
      </tbody>
    </table>
    </div>
  </div>
</div>
